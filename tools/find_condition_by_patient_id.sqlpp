/*
name: find_conditions_by_patient_id

description: >
    Lookup a patient's medical conditions with a given ID.

input: >
    {
      "type": "object",
      "properties": {
        "patient_id": { "type": "integer" }
      }
    }

secrets:
    - couchbase:
        conn_string: CLUSTER_CONNECTION_STRING
        username: CLUSTER_USERNAME
        password: CLUSTER_PASS
*/

FROM   `Scripps`.People.Patients p
WHERE $patient_id = p.patient_id
SELECT p.medical_conditions;

